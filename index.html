<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>TTF Glyph Export</title>
    <link rel="stylesheet" href="style.css">
    <!-- Using opentype.js to parse font files -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/opentype.js/1.3.4/opentype.min.js"></script>
</head>
<body>

<h1>TTF â†’ Image Glyph Export</h1>

<div class="controls">
    <div class="control-group">
        <div class="control-item">
            <label for="fontInput">Font File (.ttf, .otf, .woff)</label>
            <input type="file" id="fontInput" accept=".ttf,.otf,.woff" />
        </div>
        <button onclick="loadFont()">1. Load Font</button>
    </div>

    <div class="control-group">
        <h3>Global Settings</h3>
    </div>
    
    <div class="control-group">
        <div class="control-item">
            <label>Width</label>
            <input type="number" id="globalWidth" value="256" onchange="updateAllSettings()" />
        </div>
        <div class="control-item">
            <label>Height</label>
            <input type="number" id="globalHeight" value="256" onchange="updateAllSettings()" />
        </div>
        <div class="control-item">
            <label>Margin (px)</label>
            <input type="number" id="globalMargin" value="20" onchange="updateAllSettings()" />
        </div>
        <div class="control-item">
            <label>Font Size Scale (0-1)</label>
            <input type="number" id="globalScale" value="0.7" step="0.1" max="1" min="0.1" onchange="updateAllSettings()" />
        </div>
    </div>

    <div class="control-group">
        <div class="control-item">
            <label>Glyph Color</label>
            <input type="color" id="globalColor" value="#ffffff" onchange="updateAllSettings()" />
        </div>
        <div class="control-item">
            <label>Background Transparent</label>
            <input type="checkbox" id="globalTransparent" checked onchange="updateAllSettings()" style="margin-top:10px; transform: scale(1.5);" />
        </div>
        <div class="control-item">
            <label>Background Color</label>
            <input type="color" id="globalBgColor" value="#000000" onchange="updateAllSettings()" />
        </div>
        <div class="control-item">
            <label>Format</label>
            <select id="fileFormat">
                <option value="image/png">PNG</option>
                <option value="image/jpeg">JPG</option>
                <option value="image/webp">WebP</option>
            </select>
        </div>
        <div class="control-item">
            <label>Debug Mode</label>
            <input type="checkbox" id="debugMode" onchange="updateAllSettings()" style="margin-top:10px; transform: scale(1.5);" />
        </div>
    </div>

    <div class="control-group">
         <div class="control-item" style="flex-grow: 1;">
            <label>Filter Glyphs (Characters to render)</label>
            <textarea id="glyphInput" rows="2" placeholder="Loaded glyphs will appear here..." style="width: 100%;"></textarea>
         </div>
         <button onclick="renderAllPreviews()">2. Update Previews</button>
         <button onclick="downloadAll()" class="secondary">3. Download All</button>
    </div>
</div>

<div id="preview" class="grid"></div>

<script src="script.js"></script>

</body>
</html>